(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"5aI5":function(e,t,a){e.exports={tableList:"antd-pro-pages-recipe-recipe-edit-tableList",tableListOperator:"antd-pro-pages-recipe-recipe-edit-tableListOperator",tableListForm:"antd-pro-pages-recipe-recipe-edit-tableListForm",submitButtons:"antd-pro-pages-recipe-recipe-edit-submitButtons"}},oVo7:function(e,t,a){"use strict";a.r(t);var n,l,i,r,c=a("zAuD"),d=a.n(c),o=(a("CZL8"),a("Ujq2")),s=(a("KA4w"),a("m55T")),m=(a("+lKC"),a("yZ8h")),p=(a("EUzZ"),a("Xf8t")),u=(a("8Au1"),a("tfie")),E=a("mK77"),h=a.n(E),f=a("43Yg"),y=a.n(f),g=a("/tCh"),v=a.n(g),S=a("8aBX"),T=a.n(S),b=a("scpF"),C=a.n(b),N=a("O/V9"),I=a.n(N),M=(a("vx8d"),a("MTy7")),V=(a("Lq0b"),a("G4o1")),R=(a("qgcB"),a("vRoj")),D=(a("kcJG"),a("XBJ2")),x=(a("BLL0"),a("Os1Z")),w=(a("sR1m"),a("4PY0")),F=(a("2Oel"),a("R5/u")),k=(a("ie9k"),a("EvS/")),A=(a("CH3h"),a("oomf")),H=(a("Eu87"),a("QfkW")),O=(a("tW+f"),a("fZ2R")),L=a("ZZRV"),_=a.n(L),Y=a("LneV"),B=a("NfTp"),W=a.n(B),q=a("Sr5h"),z=a.n(q),Z=a("CkN6"),j=a("zHco"),K=a("5aI5"),G=a.n(K);function J(e){var t=U();return function(){var a,n=I()(e);if(t){var l=I()(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return C()(this,a)}}function U(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var P=O["a"].Item,X=(H["a"].Step,A["a"].TextArea,k["a"].Option),Q=(F["a"].Group,O["a"].create()(function(e){var t=e.modalVisible,a=e.form,n=e.handleMedicineAdd,l=e.handleModalVisible,i=e.selectedRows,r=e.handleSelectRows,c=e.loading,d=e.medicines,o=e.handleStandardTableChange,s=e.recipeType,m=e.handleMedicineSearch,p=e.handleMedicineFormReset,u=e.getColumns,E=function(){a.validateFields(function(e,t){e||(a.resetFields(),n(t))})};console.log(d);var h=u(s);console.log(h);var f=function(){var t=e.form.getFieldDecorator;return _.a.createElement(O["a"],{onSubmit:function(e){return m(e,a)},layout:"inline"},_.a.createElement(D["a"],{gutter:{md:8,lg:24,xl:48}},_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement(P,{label:"\u836f\u54c1\u7f16\u53f7"},t("medicineNo")(_.a.createElement(A["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement(P,{label:"\u836f\u54c1\u540d\u79f0"},t("name")(_.a.createElement(A["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement("span",{className:G.a.submitButtons},_.a.createElement(x["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),_.a.createElement(x["a"],{style:{marginLeft:8},onClick:function(){return p(a)}},"\u91cd\u7f6e")))))};return _.a.createElement(R["a"],{destroyOnClose:!0,title:"\u836f\u54c1\u9009\u62e9",visible:t,style:{top:0},width:1e3,onOk:E,onCancel:function(){return l(!1)}},_.a.createElement("div",{className:G.a.tableListForm},f()),_.a.createElement(Z["a"],{selectedRows:i,loading:c,data:d,columns:h,onSelectRow:r,onChange:o}))})),$=O["a"].create()(function(e){var t=e.templateModalVisible,a=e.form,n=(e.handleMedicineAdd,e.handleTemplateModalVisible),l=(e.templateSelectedRows,e.handleSelectRows,e.loading),i=e.templates,r=e.handleTemplateTableChange,c=(e.recipeType,e.handleTemplateSearch),d=e.handleTemplateFormReset,o=e.handleTempalteSelects,s=function(){var t=e.form.getFieldDecorator;return _.a.createElement(O["a"],{onSubmit:function(e){return c(e,a)},layout:"inline"},_.a.createElement(D["a"],{gutter:{md:8,lg:24,xl:48}},_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement(P,{label:"\u6a21\u677f\u7f16\u53f7"},t("recipeTemplateNo")(_.a.createElement(A["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement(P,{label:"\u75be\u75c5\u540d\u79f0"},t("disease")(_.a.createElement(A["a"],{placeholder:"\u8bf7\u8f93\u5165\u75be\u75c5\u540d\u79f0"})))),_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement("span",{className:G.a.submitButtons},_.a.createElement(x["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),_.a.createElement(x["a"],{style:{marginLeft:8},onClick:function(){return d(a)}},"\u91cd\u7f6e")))))},m=[{title:"\u5904\u65b9\u7c7b\u578b",dataIndex:"recipeType",render:function(e,t){return"CHINESE"==e?"\u4e2d\u836f\u5904\u65b9":"\u897f\u836f\u5904\u65b9"}},{title:"\u75be\u75c5",dataIndex:"disease",render:function(e,t){return _.a.createElement(V["a"],{placement:"rightTop",title:e},e.substring(0,10)+"...")}},{title:"\u79d1\u522b",dataIndex:"classfication"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime",render:function(e,t){var a=W()(new Date(e)).format("YYYY-MM-DD HH:mm:ss");return a}},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",render:function(e,t,a){return _.a.createElement("span",{className:"table-operation"},_.a.createElement("a",{onClick:function(){return o(t)}},"\u4f7f\u7528\u6a21\u677f"))}}],p=function(e,t){console.log(e,t);var a=e.recipeTemplateDetailVOS,n=[{title:"\u836f\u54c1\u540d\u79f0",dataIndex:"medicineVO.name",key:"name"},{title:"\u6570\u91cf",dataIndex:"medicineNum",key:"medicineNum"},{title:"\u5355\u4f4d",dataIndex:"medicineVO.type",key:"type",render:function(e,t){return"CHINESE_MEDICINE"==e?t.medicineVO.unitInfo.name:t.medicineVO.spec}}];return _.a.createElement(M["a"],{columns:n,dataSource:a,pagination:!1})};return _.a.createElement(R["a"],{destroyOnClose:!0,title:"\u6a21\u677f\u9009\u62e9",visible:t,style:{top:0},width:1e3,onOk:function(){return n(!1)},onCancel:function(){return n(!1)}},_.a.createElement("div",{className:G.a.tableListForm},s()),_.a.createElement(M["a"],{className:"components-table-demo-nested",columns:m,loading:l,expandedRowRender:p,dataSource:i.list,pagination:i.pagination,onChange:r}))}),ee=(n=Object(Y["connect"])(function(e){var t=e.recipe,a=e.loading,n=e.medicine,l=e.recipeTemplate;return{recipe:t,loading:a.models.recipe,medicine:n,medicineLoading:a.models.medicine,recipeTemplate:l,templateLoading:a.models.recipeTemplate}}),l=O["a"].create(),n(i=l((r=function(e){T()(a,e);var t=J(a);function a(){var e;y()(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return e=t.call.apply(t,[this].concat(l)),e.state={modalVisible:!1,updateModalVisible:!1,expandForm:!1,selectedRows:[],formValues:{},stepFormValues:{},updateRecipe:{},recipeType:void 0,selectedMedicines:[],templateModalVisible:!1,templateSelectedRow:void 0,selectedTemplate:void 0},e.handleStandardTableChange=function(t,a,n){var l=e.props.dispatch,i=e.state,r=i.formValues,c=i.recipeType,d=Object.keys(a).reduce(function(e,t){var n=h()({},e);return n[t]=getValue(a[t]),n},{}),o=h()({current:t.current,pageSize:t.pageSize},r,d);n.field&&(o.sorter="".concat(n.field,"_").concat(n.order)),l({type:"medicine/fetch",payload:h()({},o,{type:"CHINESE"==c?"CHINESE_MEDICINE":"WESTERN_MEDICINE"}),callback:function(t){e.setState({selectedRows:[]})}})},e.handleTemplateTableChange=function(t,a,n){var l=e.props.dispatch,i=e.state,r=i.formValues,c=i.recipeType,d=Object.keys(a).reduce(function(e,t){var n=h()({},e);return n[t]=getValue(a[t]),n},{}),o=h()({current:t.current,pageSize:t.pageSize},r,d);n.field&&(o.sorter="".concat(n.field,"_").concat(n.order)),l({type:"recipeTemplate/fetch",payload:h()({},o,{type:"CHINESE"==c?"CHINESE_MEDICINE":"WESTERN_MEDICINE"})})},e.handleFormReset=function(){var t=e.props,a=t.form,n=t.dispatch;a.resetFields(),e.setState({formValues:{}}),n({type:"recipe/fetch",payload:{}})},e.handleMedicineFormReset=function(t){var a=e.props.dispatch,n=e.state.recipeType;t.resetFields(),e.setState({formValues:{}}),a({type:"medicine/fetch",payload:{type:"CHINESE"==n?"CHINESE_MEDICINE":"WESTERN_MEDICINE"}})},e.handleTemplateFormReset=function(t){var a=e.props.dispatch,n=e.state.recipeType;t.resetFields(),e.setState({formValues:{}}),a({type:"recipeTemplate/fetch",payload:{type:"CHINESE"==n?"CHINESE_MEDICINE":"WESTERN_MEDICINE"}})},e.onMedicineNumChange=function(t,a){var n=e.state.selectedMedicines;n[a].medicineNum=t,e.setState({selectedMedicines:n})},e.onMedicineAdviceChange=function(t,a,n){var l=e.state.selectedMedicines;l[a].medicalAdvice=t.target.value,e.setState({selectedMedicines:l})},e.onMedicineDel=function(t){var a=e.state.selectedMedicines;a=a.filter(function(e){return e.medicineNo!=t.medicineNo}),e.setState({selectedMedicines:a})},e.handleSelectRows=function(t){var a=e.state.selectedMedicines,n=t.filter(function(e){for(var t=0;t<a.length;t++)if(e.medicineNo==a[t].medicineNo)return!1;return!0}).map(function(e){return e.medicineNum=e.medicineNum?e.medicineNum:"CHINESE_MEDICINE"==e.type?e.eachDose:1,e});a=a.concat(n),e.setState({selectedRows:t,selectedMedicines:a})},e.handleSearch=function(t){t.preventDefault();var a=e.props,n=a.dispatch,l=a.form;l.validateFields(function(t,a){if(!t){var l=h()({},a,{updatedAt:a.updatedAt&&a.updatedAt.valueOf()});e.setState({formValues:l}),n({type:"recipe/fetch",payload:l,callback:function(e){}})}})},e.handleModalVisible=function(t){var a=e.props.dispatch;if(!t)return a({type:"medicine/flush"}),void e.setState({modalVisible:!1});var n=e.state.recipeType;n?(a({type:"medicine/fetch",payload:{type:"CHINESE"==n?"CHINESE_MEDICINE":"WESTERN_MEDICINE"}}),e.setState({modalVisible:!!t})):u["a"].error("\u8bf7\u5148\u9009\u62e9\u5904\u65b9\u7c7b\u578b")},e.handleTemplateModalVisible=function(t){var a=e.props.dispatch;if(!t)return a({type:"recipeTemplate/flush"}),void e.setState({templateModalVisible:!1});var n=e.state.recipeType;n?(a({type:"recipeTemplate/fetch",payload:{recipeType:n,needDetails:!0}}),e.setState({templateModalVisible:!!t})):u["a"].error("\u8bf7\u5148\u9009\u62e9\u5904\u65b9\u7c7b\u578b")},e.handleMedicineSearch=function(t,a){t.preventDefault();var n=e.props.dispatch,l=e.state.recipeType;a.validateFields(function(t,a){if(!t){var i=h()({},a,{type:"CHINESE"==l?"CHINESE_MEDICINE":"WESTERN_MEDICINE"});e.setState({formValues:i}),n({type:"medicine/fetch",payload:i})}})},e.handleTemplateSearch=function(t,a){t.preventDefault();var n=e.props.dispatch,l=e.state.recipeType;a.validateFields(function(t,a){if(!t){var i=h()({},a,{type:"CHINESE"==l?"CHINESE_MEDICINE":"WESTERN_MEDICINE",needDetails:!0});e.setState({formValues:i}),n({type:"recipeTemplate/fetch",payload:i})}})},e.handleTempalteSelects=function(t){e.props.dispatch;console.log("template:",t,e.state.selectedMedicines);var a=t.recipeTemplateDetailVOS.map(function(e){var t=e.medicineVO;return t.medicineNum=e.medicineNum,e.medicineAdvice&&(t.medicalAdvice=e.medicineAdvice),t});e.setState({selectedTemplate:t,selectedMedicines:a,templateModalVisible:!1})},e.handleRecipeTypeChange=function(t){e.setState({recipeType:t,selectedRows:[],selectedMedicines:[]})},e.handleBack=function(){z.a.push("/recipe/recipeManage")},e.handleOK=function(){var t=e.props,a=t.dispatch,n=t.form,l=e.props.match.params.operator,i=e.state.selectedMedicines;if(!i||i.length<=0)u["a"].error("\u836f\u54c1\u4fe1\u606f\u4e0d\u53ef\u4e3a\u7a7a\uff0c\u8bf7\u6dfb\u52a0\u836f\u54c1\u4fe1\u606f");else{var r=i.map(function(e){return{medicineNo:e.medicineNo,medicineNum:e.medicineNum,medicineAdvice:e.medicalAdvice}});n.validateFields(function(t,i){t||(console.log(r),console.log(i),a({type:"recipe/"+l,payload:h()({},i,{recipeDetailVOS:r,recipeNo:e.state.updateRecipe.recipeNo}),callback:function(t){t&&("add"==l?u["a"].success("\u6dfb\u52a0\u6210\u529f"):u["a"].success("\u4fee\u6539\u6210\u529f"),n.resetFields(),e.setState({selectedRows:[]}),z.a.push("/recipe/recipeManage"))}}))})}},e.handleMedicineAdd=function(t){e.handleModalVisible(!1)},e.getColumns=function(e){var t=[{title:"\u836f\u54c1\u540d\u79f0",dataIndex:"name"},{title:"\u836f\u54c1\u5355\u4f4d",dataIndex:"unitInfo",render:function(e,t){return e?e.name:t.unit}},{title:"\u7528\u836f\u65b9\u5f0f",dataIndex:"takingWayInfo",render:function(e,t){return e?e.name:t.takingWay}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime",render:function(e,t){var a=W()(new Date(e)).format("YYYY-MM-DD HH:mm:ss");return a}}];return"WESTERN"==e&&(t=[{title:"\u836f\u54c1\u540d\u79f0",dataIndex:"name"},{title:"\u89c4\u683c",dataIndex:"spec"},{title:"\u6bcf\u6b21\u5242\u91cf",dataIndex:"eachDose",render:function(e,t){return(t.eachDose/100).toFixed(2)+(t.cellUnitInfo?t.cellUnitInfo.name:"")}},{title:"\u7528\u836f\u9891\u6b21",dataIndex:"frequencyInfo",render:function(e,t){return e?e.name:""}},{title:"\u7528\u836f\u65b9\u5f0f",dataIndex:"takingWayInfo",render:function(e,t){return e?e.name:t.unit}},{title:"\u533b\u5631",dataIndex:"medicalAdvice"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime",render:function(e,t){var a=W()(new Date(e)).format("YYYY-MM-DD HH:mm:ss");return a}}]),t},e}return v()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch,a=this.props.match.params.recipeNo;"null"!=a&&t({type:"recipe/query",payload:{recipeNo:a},callback:function(t,a){if(t){var n=a.recipeInfoVO.recipeDetailVOS.map(function(e){var t=e.medicineVO;return t["medicineNum"]=e.medicineNum,e.medicineAdvice&&(t["medicalAdvice"]=e.medicineAdvice),t});e.setState({selectedMedicines:n,recipeType:a.recipeInfoVO.recipeType,updateRecipe:a.recipeInfoVO})}}})}},{key:"renderSimpleForm",value:function(){var e=this,t=this.props.form.getFieldDecorator;return _.a.createElement(O["a"],{onSubmit:this.handleSearch,layout:"inline"},_.a.createElement(D["a"],{gutter:{md:8,lg:24,xl:48}},_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement(P,{label:"\u5904\u65b9\u7f16\u53f7"},t("recipeNo")(_.a.createElement(A["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement(P,{label:"\u75be\u75c5"},t("disease")(_.a.createElement(A["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement("a",{onClick:function(){return e.test(!0)}},"dddd"))),_.a.createElement(D["a"],{gutter:{md:8,lg:24,xl:48}},_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement(P,{label:"\u5904\u65b9\u7c7b\u578b"},t("recipeType")(_.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},[{type:"",name:"\u6240\u6709"},{type:"CHINESE",name:"\u4e2d\u836f\u5904\u65b9"},{type:"WESTERN",name:"\u897f\u836f\u5904\u65b9"}].map(function(e){return _.a.createElement(X,{value:e.type},e.name)}))))),_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement(P,{label:"\u79d1\u522b"},t("classfication")(_.a.createElement(A["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement("span",{className:G.a.submitButtons},_.a.createElement(x["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),_.a.createElement(x["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e")))))}},{key:"renderForm",value:function(){this.state.expandForm;return this.renderSimpleForm()}},{key:"render",value:function(){var e=this,t=this.props,a=t.recipe,n=(a.list,a.pagination,a.enumInfos,t.loading,t.form),l=t.medicineLoading,i=t.medicine,r=t.templateLoading,c=t.recipeTemplate,u=this.state,E=u.selectedRows,h=u.modalVisible,f=(u.updateModalVisible,u.stepFormValues,u.updateRecipe),y=u.selectedMedicines,g=u.recipeType,v=u.templateModalVisible,S=u.templateSelectedRow,T=u.selectedTemplate,b=this.getColumns(g),C=this.onMedicineNumChange,N=this.onMedicineAdviceChange,I=this.onMedicineDel;b.pop(),b.push({title:"\u533b\u5631",dataIndex:"medicalAdvice",render:function(e,t,a){return _.a.createElement(A["a"],{defaultValue:t.medicalAdvice,onChange:function(e){return N(e,a,t)}})}}),b.push({title:"\u6570\u91cf",dataIndex:"medicineNum",render:function(e,t,a){return _.a.createElement(p["a"],{min:1,max:1e3,defaultValue:t.medicineNum?t.medicineNum:"CHINESE"==g?t.eachDose:1,onChange:function(e){return C(e,a)}})}}),b.push({dataIndex:"unitInfo",render:function(e,t,a){return e?e.name:t.unit}}),b.push({title:"",dataIndex:"operator",render:function(e,t,a){return _.a.createElement(m["a"],{type:"delete",onClick:function(){return I(t)}})}}),console.log(b);var V={handleMedicineAdd:this.handleMedicineAdd,handleModalVisible:this.handleModalVisible,handleSelectRows:this.handleSelectRows,handleStandardTableChange:this.handleStandardTableChange,handleMedicineSearch:this.handleMedicineSearch,handleMedicineFormReset:this.handleMedicineFormReset,getColumns:this.getColumns},R={handleTempalteSelects:this.handleTempalteSelects,handleTemplateModalVisible:this.handleTemplateModalVisible,handleTemplateTableChange:this.handleTemplateTableChange,handleTemplateSearch:this.handleTemplateSearch,handleTemplateFormReset:this.handleTemplateFormReset};return _.a.createElement(j["a"],null,_.a.createElement(o["a"],{bordered:!1},_.a.createElement(O["a"],null,_.a.createElement(s["a"],null),_.a.createElement(D["a"],{gutter:{md:8,lg:24,xl:48}},_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement(P,{labelCol:{span:8},wrapperCol:{span:15},label:"\u59d3\u540d"},n.getFieldDecorator("patientName",{rules:[{required:!0,message:"\u59d3\u540d\u4e0d\u53ef\u4ee5\u4e3a\u7a7a"}],initialValue:f?f.patientName:""})(_.a.createElement(A["a"],{placeholder:"\u8bf7\u8f93\u5165\u60a3\u8005\u59d3\u540d"})))),_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement(P,{labelCol:{span:8},wrapperCol:{span:15},label:"\u6027\u522b"},n.getFieldDecorator("patientSex",{rules:[{required:!0,message:"\u6027\u522b\u4e0d\u53ef\u4ee5\u4e3a\u7a7a"}],initialValue:f&&void 0!=f.patientSex?f.patientSex+"":"0"})(_.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},[{value:"0",name:"\u7537"},{value:"1",name:"\u5973"}].map(function(e){return _.a.createElement(X,{value:e.value},e.name)}))))),_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement(A["a"].Group,{compact:!0},_.a.createElement(P,{labelCol:{span:8},wrapperCol:{span:15},label:"\u5e74\u9f84"},n.getFieldDecorator("patientAge",{rules:[{required:!0,message:"\u5e74\u9f84\u4e0d\u53ef\u4ee5\u4e3a\u7a7a"}],initialValue:f?f.patientAge:""})(_.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165\u60a3\u8005\u5e74\u9f84"}))),_.a.createElement(P,null,n.getFieldDecorator("ageType",{rules:[{required:!0,message:"\u5e74\u9f84\u5355\u4f4d\u4e0d\u53ef\u4ee5\u4e3a\u7a7a"}],initialValue:f&&void 0!=f.ageType?f.ageType+"":"YEAR"})(_.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},[{value:"YEAR",name:"\u5c81"},{value:"MONTH",name:"\u6708"},{value:"DAY",name:"\u5929"}].map(function(e){return _.a.createElement(X,{value:e.value},e.name)}))))))),_.a.createElement(D["a"],{gutter:{md:8,lg:24,xl:48}},_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement(P,{labelCol:{span:8},wrapperCol:{span:15},label:"\u5904\u65b9\u7c7b\u578b"},n.getFieldDecorator("recipeType",{rules:[{required:!0,message:"\u5904\u65b9\u7c7b\u578b\u4e0d\u53ef\u4ee5\u4e3a\u7a7a"}],initialValue:f?f.recipeType:""})(_.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"},onChange:function(t){return e.handleRecipeTypeChange(t)}},[{type:"CHINESE",name:"\u4e2d\u836f\u5904\u65b9"},{type:"WESTERN",name:"\u897f\u836f\u5904\u65b9"}].map(function(e){return _.a.createElement(X,{value:e.type},e.name)}))))),_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement(P,{labelCol:{span:8},wrapperCol:{span:15},label:"\u75be\u75c5\u540d\u79f0"},n.getFieldDecorator("disease",{rules:[{required:!0,message:"\u75be\u75c5\u540d\u79f0\u4e0d\u53ef\u4ee5\u4e3a\u7a7a"}],initialValue:f?f.disease:T?T.disease:""})(_.a.createElement(A["a"],{placeholder:"\u8bf7\u8f93\u5165\u60a3\u8005\u6240\u60a3\u75be\u75c5"})))),_.a.createElement(w["a"],{md:8,sm:24},_.a.createElement(P,{labelCol:{span:8},wrapperCol:{span:15},label:"\u79d1\u522b"},n.getFieldDecorator("classfication",{initialValue:f?f.classfication:T?T.classfication:""})(_.a.createElement(A["a"],{placeholder:"\u8bf7\u8f93\u5165\u79d1\u522b"}))))),y&&y.length>0?_.a.createElement(s["a"],{style:{margin:"40px 0 24px"}}):"",y&&y.length>0?_.a.createElement(M["a"],{columns:b,dataSource:y,pagination:!1}):"",y&&y.length>0&&"CHINESE"==g?_.a.createElement(D["a"],{gutter:{md:8,lg:24,xl:48}},_.a.createElement(w["a"],{md:24,offset:4,sm:24},_.a.createElement(P,{labelCol:{span:8},wrapperCol:{span:15},label:"\u4ed8\u6570"},n.getFieldDecorator("num",{rules:[{required:!0,message:"\u4e2d\u836f\u4ed8\u6570\u4e0d\u53ef\u4ee5\u4e3a\u7a7a"}],initialValue:f?f.num:""})(_.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165\u4ed8\u6570"}))))):"",_.a.createElement(s["a"],{style:{margin:"40px 0 24px"}}),_.a.createElement(D["a"],{gutter:{md:8,lg:24,xl:48}},_.a.createElement(w["a"],{md:4,offset:6,sm:24},_.a.createElement("span",{className:G.a.submitButtons},_.a.createElement(x["a"],{type:"primary",onClick:function(){return e.handleTemplateModalVisible(!0)}},"\u9009\u62e9\u6a21\u677f"))),_.a.createElement(w["a"],{md:4,sm:24},_.a.createElement("span",{className:G.a.submitButtons},_.a.createElement(x["a"],{type:"primary",onClick:function(){return e.handleModalVisible(!0)}},"\u6dfb\u52a0\u836f\u54c1"))),_.a.createElement(w["a"],{md:4,sm:24},_.a.createElement("span",{className:G.a.submitButtons},_.a.createElement(x["a"],{type:"primary",onClick:function(){return e.handleOK()}},"\u63d0\u4ea4\u8868\u5355"))),_.a.createElement(w["a"],{md:4,sm:24},_.a.createElement("span",{className:G.a.submitButtons},_.a.createElement(x["a"],{type:"primary",onClick:function(){return e.handleBack()}},"\u8fd4\u56de")))))),_.a.createElement(Q,d()({},V,{modalVisible:h,selectedRows:E,loading:l,medicines:i,recipeType:g})),_.a.createElement($,d()({},R,{templateModalVisible:v,templateSelectedRow:S,loading:r,templates:c,recipeType:g})))}}]),a}(L["PureComponent"]),i=r))||i)||i);t["default"]=ee}}]);